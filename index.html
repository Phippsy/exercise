<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent" />
    <meta name="theme-color" content="#0a0a0a" />
    <title>Workout Tracker</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <link rel="stylesheet" href="styles.css?v=1.14.3" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet" />
  </head>
  <body>
    <div class="app-container">
      <!-- Header -->
      <header class="app-header">
        <div class="header-top">
          <div class="header-title-section">
            <h1 class="app-title">
              <span
                id="userNameDisplay"
                class="user-name-editable"
                contenteditable="true"
                spellcheck="false"
                >My</span
              ><span id="titlePossessive" class="title-possessive hidden"
                >'s</span
              ><span class="title-suffix"> Workout Tracker</span>
            </h1>
            <div class="header-context-row">
              <div
                class="header-context-title title-auto-fit"
                id="headerContextTitle"></div>
              <div class="header-context-badges" id="headerContextBadges"></div>
            </div>
            <div class="header-meta" id="currentDate"></div>
          </div>
          <div class="header-actions">
            <button
              id="themeToggleBtn"
              class="btn-secondary btn-icon header-action-btn"
              aria-label="Toggle theme">
              <svg
                id="themeIconDark"
                class="icon icon-sm"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" />
              </svg>
              <svg
                id="themeIconLight"
                class="icon icon-sm hidden"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" />
              </svg>
              <span id="themeToggleText" class="header-action-label"
                >Light</span
              >
            </button>
            <button
              id="manageBtn"
              class="btn-secondary btn-icon header-action-btn"
              aria-label="Manage workouts and exercises">
              <svg
                class="icon icon-sm"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z" />
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
              </svg>
              <span class="header-action-label">Manage</span>
            </button>
            <button
              id="historyBtn"
              class="btn-secondary btn-icon header-action-btn"
              aria-label="Open workout history">
              <svg
                class="icon icon-sm"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M12 6v6l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
              <span class="header-action-label">History</span>
            </button>
            <button
              id="exportDataBtn"
              class="btn-secondary btn-icon header-action-btn"
              aria-label="Export data">
              <svg
                class="icon icon-sm"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5" />
              </svg>
              <span class="header-action-label">Export</span>
            </button>
            <button
              id="importDataBtn"
              class="btn-secondary btn-icon header-action-btn"
              aria-label="Import data">
              <svg
                class="icon icon-sm"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
              </svg>
              <span class="header-action-label">Import</span>
            </button>
          </div>
        </div>
      </header>

      <!-- Hidden file input for import -->
      <input type="file" id="fileInput" accept=".json" style="display: none" />

      <!-- Fixed Bottom Back Button Bar -->
      <div id="bottomBackBar" class="bottom-back-bar hidden">
        <div class="bottom-back-bar-content">
          <button
            id="bottomBackBtn"
            class="bottom-back-btn"
            aria-label="Go back">
            <svg
              class="icon icon-sm"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M15 19l-7-7 7-7" />
            </svg>
            <span id="bottomBackBtnText">Back</span>
          </button>
          <button
            id="bottomActionBtn"
            class="bottom-action-btn hidden"
            aria-label="Action">
            <svg
              id="bottomActionIcon"
              class="icon icon-sm"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M5 13l4 4L19 7" />
            </svg>
            <span id="bottomActionBtnText">Action</span>
          </button>
        </div>
      </div>

      <nav class="mobile-bottom-nav" aria-label="Quick actions">
        <button
          id="mobileThemeToggleBtn"
          type="button"
          class="mobile-nav-btn"
          aria-label="Toggle theme">
          <svg
            id="mobileThemeIconDark"
            class="icon icon-sm"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" />
          </svg>
          <svg
            id="mobileThemeIconLight"
            class="icon icon-sm hidden"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" />
          </svg>
          <span id="mobileThemeToggleText" class="mobile-nav-label">Light</span>
        </button>
        <button
          id="mobileManageBtn"
          type="button"
          class="mobile-nav-btn"
          aria-label="Manage workouts and exercises">
          <svg
            class="icon icon-sm"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z" />
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
          </svg>
          <span class="mobile-nav-label">Manage</span>
        </button>
        <button
          id="mobileHistoryBtn"
          type="button"
          class="mobile-nav-btn"
          aria-label="Open workout history">
          <svg
            class="icon icon-sm"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 6v6l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <span class="mobile-nav-label">History</span>
        </button>
        <button
          id="mobileExportDataBtn"
          type="button"
          class="mobile-nav-btn"
          aria-label="Export data">
          <svg
            class="icon icon-sm"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5" />
          </svg>
          <span class="mobile-nav-label">Export</span>
        </button>
        <button
          id="mobileImportDataBtn"
          type="button"
          class="mobile-nav-btn"
          aria-label="Import data">
          <svg
            class="icon icon-sm"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
          </svg>
          <span class="mobile-nav-label">Import</span>
        </button>
      </nav>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Workout Selection View -->
        <section id="workoutListView" class="view">
          <h3 class="workouts-section-title">Your Workouts</h3>
          <div class="workout-filter-bar">
            <div class="filter-row">
              <div class="filter-label">Filter workouts</div>
              <button
                type="button"
                id="favoritesOnlyToggle"
                class="favorite-filter-btn"
                aria-pressed="false">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path
                    d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" />
                </svg>
                Favourites only
              </button>
            </div>
            <label class="workout-search" for="workoutSearchInput">
              <span class="filter-label">Search workouts</span>
              <div class="search-input">
                <svg
                  class="icon icon-sm"
                  viewBox="0 0 24 24"
                  aria-hidden="true">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M21 21l-4.35-4.35m0 0a6.65 6.65 0 10-9.4-9.4 6.65 6.65 0 009.4 9.4z" />
                </svg>
                <input
                  id="workoutSearchInput"
                  type="search"
                  name="workoutSearch"
                  placeholder="Search by name"
                  autocomplete="off" />
              </div>
            </label>
            <div id="workoutFilters" class="muscle-group-filters">
              <button
                type="button"
                class="muscle-filter-btn active"
                data-muscle="all">
                All
              </button>
              <button
                type="button"
                class="muscle-filter-btn active"
                data-muscle="Chest">
                Chest
              </button>
              <button
                type="button"
                class="muscle-filter-btn active"
                data-muscle="Back">
                Back
              </button>
              <button
                type="button"
                class="muscle-filter-btn active"
                data-muscle="Shoulders">
                Shoulders
              </button>
              <button
                type="button"
                class="muscle-filter-btn active"
                data-muscle="Biceps">
                Biceps
              </button>
              <button
                type="button"
                class="muscle-filter-btn active"
                data-muscle="Triceps">
                Triceps
              </button>
              <button
                type="button"
                class="muscle-filter-btn active"
                data-muscle="Legs">
                Legs
              </button>
              <button
                type="button"
                class="muscle-filter-btn active"
                data-muscle="Quads">
                Quads
              </button>
              <button
                type="button"
                class="muscle-filter-btn active"
                data-muscle="Hamstrings">
                Hamstrings
              </button>
              <button
                type="button"
                class="muscle-filter-btn active"
                data-muscle="Glutes">
                Glutes
              </button>
              <button
                type="button"
                class="muscle-filter-btn active"
                data-muscle="Core">
                Core
              </button>
              <button
                type="button"
                class="muscle-filter-btn active"
                data-muscle="Calves">
                Calves
              </button>
              <button
                type="button"
                class="muscle-filter-btn active"
                data-muscle="Forearms">
                Forearms
              </button>
            </div>
          </div>
          <div id="workoutList" class="workout-grid"></div>
          <div id="dailyQuoteCard" class="card quote-card" aria-live="polite">
            <div class="quote-card-top">
              <h3 class="card-title-sm">Daily motivation</h3>
              <span id="quoteDate" class="pill pill-soft"></span>
            </div>
            <div id="quoteBody" class="quote-body">
              <blockquote id="quoteText" class="quote-text"></blockquote>
              <p id="quoteAuthor" class="quote-author"></p>
            </div>
          </div>
          <div class="insight-grid">
            <div class="card compact-card">
              <div class="card-header-row">
                <div>
                  <h3 class="card-title-sm">Recent Exercise Activity</h3>
                  <p class="card-subtitle">Sets logged each day</p>
                </div>
                <span id="activityTotal" class="pill pill-soft"></span>
              </div>
              <div id="activityChart" class="mini-bar-chart"></div>
              <div id="activityTrend" class="chart-caption"></div>
            </div>

            <div class="card compact-card">
              <div class="card-header-row">
                <div>
                  <h3 class="card-title-sm">Workout Pace</h3>
                  <p class="card-subtitle">How often you train</p>
                </div>
                <span id="workoutFrequency" class="pill pill-soft"></span>
              </div>
              <div id="workoutChart" class="mini-bar-chart"></div>
              <div id="workoutTrend" class="chart-caption"></div>
            </div>
          </div>
        </section>

        <!-- Exercise List View -->
        <section id="exerciseListView" class="view hidden">
          <div class="section-header">
            <button
              id="backToWorkouts"
              class="btn-back"
              aria-label="Back to workouts">
              <svg
                class="icon icon-md"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M15 19l-7-7 7-7" />
              </svg>
              Back to Workouts
            </button>
            <div class="section-title-row">
              <h2 class="section-title">
                <span
                  id="currentWorkoutName"
                  class="workout-name-editable"
                  contenteditable="true"
                  spellcheck="false"></span>
              </h2>
              <button
                id="editWorkoutBtn"
                class="icon-btn"
                aria-label="Edit workout">
                <svg
                  class="icon icon-sm"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.862 4.487z" />
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M18.375 5.988l-2.363-2.363" />
                </svg>
              </button>
            </div>
            <div
              id="workoutNotesDisplay"
              class="workout-notes"
              style="display: none">
              <p id="workoutNotesContent"></p>
            </div>
            <div class="section-header-actions">
              <p class="section-subtitle">
                Select an exercise to view history and log progress
              </p>
              <div
                id="sessionChecklist"
                class="session-checklist"
                aria-live="polite"></div>
              <button
                id="endWorkoutBtn"
                class="btn-primary btn-icon"
                aria-label="Mark workout complete">
                <svg
                  class="icon icon-sm"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M5 13l4 4L19 7" />
                </svg>
                Finish Workout
              </button>
              <button id="pairModeToggle" class="btn-secondary btn-icon">
                <svg
                  class="icon icon-sm"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M9 4.5v15m6-15v15m-10.875 0h15.75c.621 0 1.125-.504 1.125-1.125V5.625c0-.621-.504-1.125-1.125-1.125H4.125C3.504 4.5 3 5.004 3 5.625v12.75c0 .621.504 1.125 1.125 1.125z" />
                </svg>
                <span id="pairModeText">Pair Exercises</span>
              </button>
            </div>
            <div class="session-quick-actions">
              <p class="session-template-note">
                Start a session from this workout template. Add or remove
                exercises for today without changing the original plan.
              </p>
              <button
                id="openSessionAddPanel"
                class="btn-soft btn-icon btn-sm"
                aria-label="Add an exercise to this session">
                <svg
                  class="icon icon-sm"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M12 5v14m-7-7h14" />
                </svg>
                Add session exercise
              </button>
            </div>
            <div
              id="sessionAddPanel"
              class="card session-add-panel hidden"
              aria-live="polite">
              <div class="session-add-panel-header">
                <h3 class="card-title-sm">Add exercise to this session</h3>
                <button
                  id="closeSessionAddPanel"
                  class="btn-icon"
                  type="button"
                  aria-label="Close add exercise panel">
                  <svg
                    class="icon icon-sm"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M6 18L18 6M6 6l12 12" />
                  </svg>
                </button>
              </div>
              <p class="session-add-panel-subtitle">
                New exercises are only applied to this session.
              </p>
              <div class="session-add-search">
                <input
                  type="text"
                  id="sessionAddSearch"
                  class="exercise-search-input"
                  placeholder="Search the exercise library" />
              </div>
              <div id="sessionAddList" class="session-add-list"></div>
            </div>
          </div>
          <div id="pairModeNotice" class="pair-mode-notice hidden">
            <svg
              class="icon icon-sm"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" />
            </svg>
            <span id="pairModeNoticeText">Select 2 exercises to pair</span>
          </div>
          <div id="exerciseList" class="exercise-list"></div>
          <div class="insight-grid">
            <div class="card compact-card">
              <div class="card-header-row">
                <div>
                  <h3 class="card-title-sm">Workout Insights</h3>
                  <p class="card-subtitle">Recent frequency for this plan</p>
                </div>
                <span id="workoutRecency" class="pill pill-soft"></span>
              </div>
              <div id="currentWorkoutChart" class="mini-bar-chart"></div>
              <div id="currentWorkoutTrend" class="chart-caption"></div>
            </div>
          </div>
        </section>

        <!-- Exercise Detail & Session Tracking View -->
        <section id="exerciseDetailView" class="view hidden">
          <div class="section-header">
            <button
              id="backToExercises"
              class="btn-back"
              aria-label="Back to exercises">
              <svg
                class="icon icon-md"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M15 19l-7-7 7-7" />
              </svg>
              Back to Exercises
            </button>
            <h2
              class="section-title title-auto-fit"
              id="exerciseDetailName"></h2>
            <div class="exercise-meta">
              <span class="muscle-badge" id="exerciseDetailMuscleGroup"></span>
            </div>
          </div>

          <!-- Exercise Form Info -->
          <div id="exerciseFormInfo" class="card" style="display: none">
            <h3 class="card-title">Form Guide</h3>
            <div id="exerciseFormNotesDisplay"></div>
            <div id="exerciseFormVideoDisplay"></div>
          </div>

          <div id="singleExerciseView">
            <!-- Current Session Form -->
            <div class="card">
              <h3 class="card-title">Log Today's Session</h3>
              <div id="warmupSuggestion" class="warmup-suggestion">
                <div>
                  <p class="warmup-title">Suggested warmup</p>
                  <p class="warmup-copy">
                    Add two lighter ramp-up sets before your working weight.
                  </p>
                </div>
                <button id="addWarmupBlock" type="button" class="btn-soft">
                  Add warmup block
                </button>
              </div>
              <div
                id="sessionSummary"
                class="session-summary hidden"
                aria-live="polite"></div>
              <form id="sessionForm" class="session-form">
                <div id="setsContainer" class="sets-container"></div>

                <div class="form-actions">
                  <button type="button" id="addSetBtn" class="btn-secondary">
                    <svg
                      class="icon icon-sm"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2">
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M12 5v14m-7-7h14" />
                    </svg>
                    Add Set
                  </button>
                  <button type="submit" id="saveSessionBtn" class="btn-primary">
                    Save Session
                  </button>
                </div>
              </form>
            </div>

            <div class="card exercise-insight-card">
              <div class="card-header-row">
                <div>
                  <h3 class="card-title-sm">Exercise Insights</h3>
                  <p class="card-subtitle">Quick glance at your momentum</p>
                </div>
                <span id="exerciseRecency" class="pill pill-soft"></span>
              </div>
              <div class="insight-meta">
                <div>
                  <p class="insight-label">Last performed</p>
                  <p id="exerciseLastPerformed" class="insight-value"></p>
                </div>
                <div>
                  <p class="insight-label">Lifetime sessions</p>
                  <p id="exerciseSessionCount" class="insight-value"></p>
                </div>
                <div>
                  <p class="insight-label">Typical volume</p>
                  <p id="exerciseAverage" class="insight-value"></p>
                </div>
              </div>
              <div id="exerciseChart" class="mini-bar-chart"></div>
              <div id="exerciseTrend" class="chart-caption"></div>
            </div>

            <!-- Previous Session Display -->
            <div class="card">
              <h3 class="card-title">Previous Session</h3>
              <div id="previousSession" class="previous-session"></div>
            </div>

            <!-- Session History -->
            <div class="card">
              <h3 class="card-title">Session History</h3>
              <div id="sessionHistory" class="session-history"></div>
            </div>
          </div>

          <!-- Paired Exercise View -->
          <div id="pairedExerciseView" class="paired-exercise-container hidden">
            <div class="paired-exercises-grid">
              <!-- Exercise 1 -->
              <div class="paired-exercise-column">
                <div class="paired-exercise-header">
                  <h3
                    class="paired-exercise-title title-auto-fit"
                    id="pairedExercise1Name"></h3>
                  <span
                    class="muscle-badge"
                    id="pairedExercise1MuscleGroup"></span>
                </div>

                <div class="card">
                  <h4 class="card-title-sm">Previous Session</h4>
                  <div
                    id="pairedPreviousSession1"
                    class="previous-session"></div>
                </div>

                <div class="card">
                  <h4 class="card-title-sm">Log Today's Session</h4>
                  <div id="pairedSetsContainer1" class="sets-container"></div>
                  <button
                    type="button"
                    id="pairedAddSetBtn1"
                    class="btn-secondary btn-sm">
                    <svg
                      class="icon icon-sm"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2">
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M12 5v14m-7-7h14" />
                    </svg>
                    Add Set
                  </button>
                </div>
              </div>

              <!-- Exercise 2 -->
              <div class="paired-exercise-column">
                <div class="paired-exercise-header">
                  <h3
                    class="paired-exercise-title title-auto-fit"
                    id="pairedExercise2Name"></h3>
                  <span
                    class="muscle-badge"
                    id="pairedExercise2MuscleGroup"></span>
                </div>

                <div class="card">
                  <h4 class="card-title-sm">Previous Session</h4>
                  <div
                    id="pairedPreviousSession2"
                    class="previous-session"></div>
                </div>

                <div class="card">
                  <h4 class="card-title-sm">Log Today's Session</h4>
                  <div id="pairedSetsContainer2" class="sets-container"></div>
                  <button
                    type="button"
                    id="pairedAddSetBtn2"
                    class="btn-secondary btn-sm">
                    <svg
                      class="icon icon-sm"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2">
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M12 5v14m-7-7h14" />
                    </svg>
                    Add Set
                  </button>
                </div>
              </div>
            </div>

            <!-- Paired Save Button -->
            <div class="card">
              <button id="savePairedSessionBtn" class="btn-primary btn-full">
                Save Both Sessions
              </button>
            </div>
          </div>
        </section>

        <!-- Workout History View -->
        <section id="workoutHistoryView" class="view hidden">
          <div class="section-header">
            <button
              id="backToDashboard"
              class="btn-back"
              aria-label="Back to dashboard">
              <svg
                class="icon icon-md"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M15 19l-7-7 7-7" />
              </svg>
              Back to Dashboard
            </button>
            <div>
              <p class="section-kicker">Shareable recap</p>
              <h2 class="section-title">Workout History</h2>
              <p class="section-subtitle">
                Tap a day to relive the highlights, view stats, and export a
                share-ready recap.
              </p>
            </div>
          </div>

          <div class="history-layout">
            <div class="card history-list-card">
              <div class="card-header-row">
                <div>
                  <h3 class="card-title-sm">Saved sessions</h3>
                  <p class="card-subtitle">Latest first Â· Tap to open</p>
                </div>
                <span id="historyCount" class="pill pill-soft"></span>
              </div>
              <div id="workoutHistoryList" class="history-list"></div>
            </div>

            <div class="card history-detail-card">
              <div id="historyEmptyState" class="history-empty">
                <p class="history-empty-title">No workouts saved yet</p>
                <p class="history-empty-body">
                  End a workout to capture a recap here. We'll bundle sets,
                  volume, and every exercise you touched.
                </p>
              </div>
              <div id="historyDetail" class="hidden">
                <div class="history-detail-header">
                  <div>
                    <p class="section-kicker" id="historyDetailMood"></p>
                    <h3 id="historyDetailTitle" class="card-title"></h3>
                    <p id="historyDetailDate" class="card-subtitle"></p>
                  </div>
                  <div class="history-stat-chips" id="historyStatChips"></div>
                </div>

                <div class="history-highlights" id="historyFunFact"></div>

                <div class="history-visual-grid">
                  <div class="history-visual-card">
                    <div class="history-visual-header">
                      <p class="section-kicker">Body focus</p>
                      <h4 class="card-title-sm">Weight vs reps balance</h4>
                    </div>
                    <div class="history-volume-wrapper">
                      <div class="history-volume-block">
                        <div class="history-visual-subheader">
                          <span class="pill pill-soft">Kg-reps</span>
                          <span class="chart-caption">Weighted lifts</span>
                        </div>
                        <div
                          id="historyVolumeChart"
                          class="volume-bar-list"></div>
                        <p id="historyVolumeLegend" class="chart-caption"></p>
                      </div>
                      <div class="history-volume-block">
                        <div class="history-visual-subheader">
                          <span class="pill pill-soft">Reps</span>
                          <span class="chart-caption"
                            >Bodyweight & endurance</span
                          >
                        </div>
                        <div
                          id="historyRepsChart"
                          class="volume-bar-list"></div>
                        <p id="historyRepsLegend" class="chart-caption"></p>
                      </div>
                    </div>
                  </div>

                  <div class="history-visual-card stat-card">
                    <div class="history-visual-header">
                      <p class="section-kicker">Session context</p>
                      <h4 class="card-title-sm">Milestones & streaks</h4>
                    </div>
                    <div id="historyMilestones" class="milestone-grid"></div>
                    <div id="historyQuote" class="quote-chip subtle"></div>
                  </div>
                </div>

                <div
                  class="history-exercise-grid"
                  id="historyExerciseGrid"></div>

                <div class="share-row">
                  <div>
                    <p class="section-kicker">Share it</p>
                    <p class="card-subtitle">
                      Download a recap image that works for WhatsApp, iMessage,
                      or Stories.
                    </p>
                    <div class="share-actions">
                      <button id="shareWorkoutCardBtn" class="btn-primary">
                        Export recap image
                      </button>
                      <button id="copyShareLink" class="btn-soft">
                        Copy data URL
                      </button>
                      <button id="exportSessionBtn" class="btn-secondary">
                        Export session JSON
                      </button>
                      <button id="exportSessionMdBtn" class="btn-secondary">
                        Export session summary
                      </button>
                    </div>
                  </div>
                  <div class="share-preview">
                    <img
                      id="historySharePreview"
                      alt="Workout share preview"
                      class="share-preview-img"
                      loading="lazy" />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>
      <!-- Management View -->
      <aside id="managementView" class="management-view hidden">
        <div class="management-overlay"></div>
        <div class="management-panel">
          <div class="management-header">
            <h2 class="management-title">Manage</h2>
            <button
              id="closeManagementBtn"
              class="btn-close"
              aria-label="Close">
              <svg
                class="icon icon-md"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>
          </div>

          <!-- Management Tabs -->
          <div class="management-tabs">
            <button class="management-tab active" data-tab="exercises">
              Exercises
            </button>
            <button class="management-tab" data-tab="workouts">Workouts</button>
            <button class="management-tab" data-tab="coach">Coach</button>
            <button class="management-tab" data-tab="sync">Sync</button>
          </div>

          <!-- Exercises Tab -->
          <div id="exercisesTab" class="management-tab-content active">
            <div class="management-section">
              <h3 class="management-section-title">Create New Exercise</h3>
              <form id="createExerciseForm" class="management-form">
                <div class="form-group">
                  <label for="exerciseName">Exercise Name *</label>
                  <input
                    type="text"
                    id="exerciseName"
                    required
                    placeholder="e.g., Bench Press" />
                </div>

                <div class="form-group">
                  <label for="muscleGroup">Muscle Group *</label>
                  <select id="muscleGroup" required>
                    <option value="">Select muscle group</option>
                    <option value="Chest">Chest</option>
                    <option value="Back">Back</option>
                    <option value="Shoulders">Shoulders</option>
                    <option value="Biceps">Biceps</option>
                    <option value="Triceps">Triceps</option>
                    <option value="Legs">Legs</option>
                    <option value="Quads">Quads</option>
                    <option value="Hamstrings">Hamstrings</option>
                    <option value="Glutes">Glutes</option>
                    <option value="Core">Core</option>
                    <option value="Calves">Calves</option>
                    <option value="Forearms">Forearms</option>
                  </select>
                </div>

                <div class="form-row">
                  <div class="form-group">
                    <label for="defaultSets">Default Sets</label>
                    <input
                      type="number"
                      id="defaultSets"
                      min="1"
                      step="1"
                      placeholder="3" />
                  </div>

                  <div class="form-group">
                    <label for="defaultReps">Default Reps</label>
                    <input
                      type="number"
                      id="defaultReps"
                      min="1"
                      step="1"
                      placeholder="10" />
                  </div>

                  <div class="form-group">
                    <label for="defaultWeight">Default Weight (kg)</label>
                    <input
                      type="number"
                      id="defaultWeight"
                      min="0"
                      step="0.5"
                      placeholder="20" />
                  </div>
                </div>

                <div class="form-group">
                  <label for="exerciseFormNotes">Form Notes (optional)</label>
                  <textarea
                    id="exerciseFormNotes"
                    rows="2"
                    placeholder="Tips for proper form..."></textarea>
                </div>

                <div class="form-group">
                  <label for="exerciseFormVideo"
                    >Form Video URL (optional)</label
                  >
                  <input
                    type="url"
                    id="exerciseFormVideo"
                    placeholder="https://youtube.com/watch?v=..." />
                </div>

                <button type="submit" class="btn-primary btn-full">
                  Create Exercise
                </button>
              </form>
            </div>

            <div class="management-section">
              <h3 class="management-section-title">All Exercises</h3>
              <div class="exercise-filters" id="exerciseLibraryFilters">
                <input
                  type="text"
                  id="exerciseLibrarySearch"
                  class="exercise-search-input"
                  placeholder="Search exercises..." />

                <div class="muscle-group-filters">
                  <button
                    type="button"
                    class="muscle-filter-btn active"
                    data-muscle="all">
                    All
                  </button>
                  <button
                    type="button"
                    class="muscle-filter-btn active"
                    data-muscle="Chest">
                    Chest
                  </button>
                  <button
                    type="button"
                    class="muscle-filter-btn active"
                    data-muscle="Back">
                    Back
                  </button>
                  <button
                    type="button"
                    class="muscle-filter-btn active"
                    data-muscle="Shoulders">
                    Shoulders
                  </button>
                  <button
                    type="button"
                    class="muscle-filter-btn active"
                    data-muscle="Biceps">
                    Biceps
                  </button>
                  <button
                    type="button"
                    class="muscle-filter-btn active"
                    data-muscle="Triceps">
                    Triceps
                  </button>
                  <button
                    type="button"
                    class="muscle-filter-btn active"
                    data-muscle="Legs">
                    Legs
                  </button>
                  <button
                    type="button"
                    class="muscle-filter-btn active"
                    data-muscle="Quads">
                    Quads
                  </button>
                  <button
                    type="button"
                    class="muscle-filter-btn active"
                    data-muscle="Hamstrings">
                    Hamstrings
                  </button>
                  <button
                    type="button"
                    class="muscle-filter-btn active"
                    data-muscle="Glutes">
                    Glutes
                  </button>
                  <button
                    type="button"
                    class="muscle-filter-btn active"
                    data-muscle="Core">
                    Core
                  </button>
                  <button
                    type="button"
                    class="muscle-filter-btn active"
                    data-muscle="Calves">
                    Calves
                  </button>
                  <button
                    type="button"
                    class="muscle-filter-btn active"
                    data-muscle="Forearms">
                    Forearms
                  </button>
                </div>
              </div>
              <div id="exerciseLibrary" class="exercise-library"></div>
            </div>
          </div>

          <!-- Workouts Tab -->
          <div id="workoutsTab" class="management-tab-content">
            <div class="management-section">
              <h3 class="management-section-title">Create New Workout</h3>
              <form id="createWorkoutForm" class="management-form">
                <div class="form-group">
                  <label for="workoutName">Workout Name *</label>
                  <input
                    type="text"
                    id="workoutName"
                    required
                    placeholder="e.g., Push Day" />
                </div>

                <div class="form-group">
                  <label for="workoutNotes">Notes (optional)</label>
                  <textarea
                    id="workoutNotes"
                    rows="3"
                    placeholder="Add any notes about this workout..."></textarea>
                </div>

                <div class="form-group">
                  <label>Select Exercises *</label>

                  <!-- Exercise Filters -->
                  <div class="exercise-filters">
                    <input
                      type="text"
                      id="exerciseSearchInput"
                      class="exercise-search-input"
                      placeholder="Search exercises..." />

                    <div class="muscle-group-filters">
                      <button
                        type="button"
                        class="muscle-filter-btn active"
                        data-muscle="all">
                        All
                      </button>
                      <button
                        type="button"
                        class="muscle-filter-btn active"
                        data-muscle="Chest">
                        Chest
                      </button>
                      <button
                        type="button"
                        class="muscle-filter-btn active"
                        data-muscle="Back">
                        Back
                      </button>
                      <button
                        type="button"
                        class="muscle-filter-btn active"
                        data-muscle="Shoulders">
                        Shoulders
                      </button>
                      <button
                        type="button"
                        class="muscle-filter-btn active"
                        data-muscle="Biceps">
                        Biceps
                      </button>
                      <button
                        type="button"
                        class="muscle-filter-btn active"
                        data-muscle="Triceps">
                        Triceps
                      </button>
                      <button
                        type="button"
                        class="muscle-filter-btn active"
                        data-muscle="Legs">
                        Legs
                      </button>
                      <button
                        type="button"
                        class="muscle-filter-btn active"
                        data-muscle="Quads">
                        Quads
                      </button>
                      <button
                        type="button"
                        class="muscle-filter-btn active"
                        data-muscle="Hamstrings">
                        Hamstrings
                      </button>
                      <button
                        type="button"
                        class="muscle-filter-btn active"
                        data-muscle="Glutes">
                        Glutes
                      </button>
                      <button
                        type="button"
                        class="muscle-filter-btn active"
                        data-muscle="Core">
                        Core
                      </button>
                      <button
                        type="button"
                        class="muscle-filter-btn active"
                        data-muscle="Calves">
                        Calves
                      </button>
                      <button
                        type="button"
                        class="muscle-filter-btn active"
                        data-muscle="Forearms">
                        Forearms
                      </button>
                    </div>
                  </div>

                  <div id="exerciseSelector" class="exercise-selector"></div>
                </div>

                <button type="submit" class="btn-primary btn-full">
                  Create Workout
                </button>
              </form>
            </div>

            <div class="management-section">
              <h3 class="management-section-title">Your Workouts</h3>
              <div id="workoutManager" class="workout-manager"></div>
            </div>
          </div>

          <!-- Coach Tab -->
          <div id="coachTab" class="management-tab-content">
            <div class="management-section">
              <h3 class="management-section-title">
                Coach Performance Summary
              </h3>
              <p class="section-subtext">
                Generate a structured markdown brief you can hand to a coach so
                they can quickly learn an athlete's history, training focus, and
                recent momentum. This export is text-only to keep it portable.
              </p>
              <div class="coach-summary-actions">
                <button id="generateCoachSummaryBtn" class="btn-primary">
                  Refresh summary
                </button>
                <button id="copyCoachSummaryBtn" class="btn-secondary">
                  Copy to clipboard
                </button>
                <button id="downloadCoachSummaryBtn" class="btn-soft">
                  Download .md
                </button>
              </div>
              <label for="coachSummaryOutput" class="sr-only"
                >Coach performance summary output</label
              >
              <textarea
                id="coachSummaryOutput"
                class="coach-summary-output"
                rows="16"
                readonly></textarea>
            </div>
            <div class="management-section">
              <h3 class="management-section-title">Sets by Exercise</h3>
              <div class="insight-grid">
                <div class="card compact-card">
                  <div class="card-header-row">
                    <div>
                      <h3 class="card-title-sm">Last 7 Days</h3>
                      <p class="card-subtitle">Sets per exercise</p>
                    </div>
                    <span id="coachSetsTotal7" class="pill pill-soft"></span>
                  </div>
                  <div id="coachSetsChart7" class="mini-bar-chart"></div>
                  <div id="coachSetsTrend7" class="chart-caption"></div>
                </div>

                <div class="card compact-card">
                  <div class="card-header-row">
                    <div>
                      <h3 class="card-title-sm">Last 28 Days</h3>
                      <p class="card-subtitle">Sets per exercise</p>
                    </div>
                    <span id="coachSetsTotal28" class="pill pill-soft"></span>
                  </div>
                  <div id="coachSetsChart28" class="mini-bar-chart"></div>
                  <div id="coachSetsTrend28" class="chart-caption"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Sync Tab -->
          <div id="syncTab" class="management-tab-content">
            <div class="management-section">
              <h3 class="management-section-title">
                Google Sheets Sync
              </h3>
              <p class="section-subtext">
                Connect your workout data to a Google Sheet so every completed
                workout is automatically backed up. You can also bulk-export
                your entire history in one go.
              </p>

              <details class="sync-setup-guide">
                <summary>Setup instructions</summary>
                <ol class="sync-steps">
                  <li>Create a new Google Sheet (or open an existing one)</li>
                  <li>Go to <strong>Extensions &rarr; Apps Script</strong></li>
                  <li>
                    Delete any existing code, then paste the contents of
                    <code>google-apps-script.js</code> from this project
                  </li>
                  <li>
                    <strong>Important:</strong> Click <strong>Run</strong> on any
                    function once (e.g. <code>doGet</code>) and
                    <strong>authorise</strong> the permissions prompt &mdash; this
                    grants the script access to your spreadsheet
                  </li>
                  <li>
                    Click <strong>Deploy &rarr; New deployment &rarr; Web app</strong>
                  </li>
                  <li>
                    Set <em>"Execute as"</em> = <strong>Me</strong> and
                    <em>"Who has access"</em> = <strong>Anyone</strong>
                    <br /><small>(pick the option labelled <em>"Anyone"</em>,
                    <strong>not</strong> "Anyone with Google Account")</small>
                  </li>
                  <li>Copy the Web App URL and paste it below</li>
                </ol>
              </details>

              <div class="form-group">
                <label for="sheetsUrlInput">Apps Script Web App URL</label>
                <input
                  type="url"
                  id="sheetsUrlInput"
                  placeholder="https://script.google.com/macros/s/â¦/exec"
                  autocomplete="off"
                  spellcheck="false" />
              </div>

              <div class="sync-actions">
                <button id="sheetsTestBtn" class="btn-secondary">
                  Test connection
                </button>
              </div>

              <div class="form-group sync-toggle-row">
                <label for="sheetsAutoSync" class="toggle-label">
                  Auto-sync when a workout is finished
                </label>
                <input type="checkbox" id="sheetsAutoSync" />
              </div>
            </div>

            <div class="management-section">
              <h3 class="management-section-title">
                Bulk Export to Sheet
              </h3>
              <p class="section-subtext">
                Push all your existing workout history and exercise sessions to
                Google Sheets in one go. Existing rows are updated (not
                duplicated) so it's safe to run multiple times.
              </p>
              <div class="sync-actions">
                <button id="sheetsBulkSyncBtn" class="btn-primary">
                  Sync all history to Google Sheets
                </button>
              </div>
              <div id="syncStatus" class="sync-status"></div>
            </div>
          </div>

        </div>
      </aside>

      <!-- Edit Workout Modal -->
      <aside id="editWorkoutModal" class="management-view hidden">
        <div class="management-overlay"></div>
        <div class="management-panel">
          <div class="management-header">
            <h2 class="management-title">Edit Workout</h2>
            <button
              id="closeEditWorkoutBtn"
              class="btn-close"
              aria-label="Close">
              <svg
                class="icon icon-md"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>
          </div>

          <div
            class="management-tab-content active"
            style="padding: var(--spacing-lg)">
            <form id="editWorkoutForm" class="management-form">
              <input type="hidden" id="editWorkoutId" />

              <div class="form-group">
                <label for="editWorkoutName">Workout Name *</label>
                <input
                  type="text"
                  id="editWorkoutName"
                  required
                  placeholder="e.g., Push Day" />
              </div>

              <div class="form-group">
                <label for="editWorkoutNotes">Notes (optional)</label>
                <textarea
                  id="editWorkoutNotes"
                  rows="3"
                  placeholder="Add any notes about this workout..."></textarea>
              </div>

              <div class="form-group">
                <label>Select Exercises *</label>

                <!-- Exercise Filters -->
                <div class="exercise-filters">
                  <input
                    type="text"
                    id="editExerciseSearchInput"
                    class="exercise-search-input"
                    placeholder="Search exercises..." />

                  <div class="muscle-group-filters">
                    <button
                      type="button"
                      class="muscle-filter-btn active"
                      data-muscle="all">
                      All
                    </button>
                    <button
                      type="button"
                      class="muscle-filter-btn active"
                      data-muscle="Chest">
                      Chest
                    </button>
                    <button
                      type="button"
                      class="muscle-filter-btn active"
                      data-muscle="Back">
                      Back
                    </button>
                    <button
                      type="button"
                      class="muscle-filter-btn active"
                      data-muscle="Shoulders">
                      Shoulders
                    </button>
                    <button
                      type="button"
                      class="muscle-filter-btn active"
                      data-muscle="Biceps">
                      Biceps
                    </button>
                    <button
                      type="button"
                      class="muscle-filter-btn active"
                      data-muscle="Triceps">
                      Triceps
                    </button>
                    <button
                      type="button"
                      class="muscle-filter-btn active"
                      data-muscle="Legs">
                      Legs
                    </button>
                    <button
                      type="button"
                      class="muscle-filter-btn active"
                      data-muscle="Quads">
                      Quads
                    </button>
                    <button
                      type="button"
                      class="muscle-filter-btn active"
                      data-muscle="Hamstrings">
                      Hamstrings
                    </button>
                    <button
                      type="button"
                      class="muscle-filter-btn active"
                      data-muscle="Glutes">
                      Glutes
                    </button>
                    <button
                      type="button"
                      class="muscle-filter-btn active"
                      data-muscle="Core">
                      Core
                    </button>
                    <button
                      type="button"
                      class="muscle-filter-btn active"
                      data-muscle="Calves">
                      Calves
                    </button>
                    <button
                      type="button"
                      class="muscle-filter-btn active"
                      data-muscle="Forearms">
                      Forearms
                    </button>
                  </div>
                </div>

                <div id="editExerciseSelector" class="exercise-selector"></div>
              </div>

              <div
                class="form-actions"
                style="border-top: none; padding-top: 0">
                <button
                  type="button"
                  id="cancelEditWorkoutBtn"
                  class="btn-secondary">
                  Cancel
                </button>
                <button type="submit" class="btn-primary">Save Changes</button>
              </div>
            </form>
          </div>
        </div>
      </aside>

      <!-- Edit Exercise Modal -->
      <aside id="editExerciseModal" class="management-view hidden">
        <div class="management-overlay"></div>
        <div class="management-panel">
          <div class="management-header">
            <h2 class="management-title">Edit Exercise</h2>
            <button
              id="closeEditExerciseBtn"
              class="btn-close"
              aria-label="Close">
              <svg
                class="icon icon-md"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>
          </div>

          <div
            class="management-tab-content active"
            style="padding: var(--spacing-lg)">
            <form id="editExerciseForm" class="management-form">
              <input type="hidden" id="editExerciseOriginalName" />

              <div class="form-group">
                <label for="editExerciseName">Exercise Name *</label>
                <input
                  type="text"
                  id="editExerciseName"
                  required
                  placeholder="e.g., Bench Press" />
              </div>

              <div class="form-group">
                <label for="editMuscleGroup">Muscle Group *</label>
                <select id="editMuscleGroup" required>
                  <option value="">Select muscle group</option>
                  <option value="Chest">Chest</option>
                  <option value="Back">Back</option>
                  <option value="Shoulders">Shoulders</option>
                  <option value="Biceps">Biceps</option>
                  <option value="Triceps">Triceps</option>
                  <option value="Legs">Legs</option>
                  <option value="Quads">Quads</option>
                  <option value="Hamstrings">Hamstrings</option>
                  <option value="Glutes">Glutes</option>
                  <option value="Core">Core</option>
                  <option value="Calves">Calves</option>
                  <option value="Forearms">Forearms</option>
                </select>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="editDefaultSets">Default Sets</label>
                  <input
                    type="number"
                    id="editDefaultSets"
                    min="1"
                    step="1"
                    placeholder="3" />
                </div>

                <div class="form-group">
                  <label for="editDefaultReps">Default Reps</label>
                  <input
                    type="number"
                    id="editDefaultReps"
                    min="1"
                    step="1"
                    placeholder="10" />
                </div>

                <div class="form-group">
                  <label for="editDefaultWeight">Default Weight (kg)</label>
                  <input
                    type="number"
                    id="editDefaultWeight"
                    min="0"
                    step="0.5"
                    placeholder="20" />
                </div>
              </div>

              <div class="form-group">
                <label for="editExerciseFormNotes">Form Notes (optional)</label>
                <textarea
                  id="editExerciseFormNotes"
                  rows="2"
                  placeholder="Tips for proper form..."></textarea>
              </div>

              <div class="form-group">
                <label for="editExerciseFormVideo"
                  >Form Video URL (optional)</label
                >
                <input
                  type="url"
                  id="editExerciseFormVideo"
                  placeholder="https://youtube.com/watch?v=..." />
              </div>

              <div class="form-actions">
                <button
                  type="button"
                  id="cancelEditExerciseBtn"
                  class="btn-secondary">
                  Cancel
                </button>
                <button type="submit" class="btn-primary">Save Changes</button>
              </div>
            </form>
          </div>
        </div>
      </aside>
    </div>

    <div
      id="onboardingOverlay"
      class="onboarding-overlay hidden"
      role="dialog"
      aria-modal="true">
      <div class="onboarding-card">
        <div class="onboarding-header">
          <h3 id="onboardingTitle">Welcome to Workout Tracker</h3>
          <button
            id="onboardingSkip"
            class="btn-icon onboarding-dismiss"
            aria-label="Skip tour">
            <svg
              class="icon icon-sm"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
        <p id="onboardingBody" class="onboarding-body"></p>
        <div class="onboarding-progress" aria-hidden="true">
          <span class="onboarding-dot" data-step="0"></span>
          <span class="onboarding-dot" data-step="1"></span>
          <span class="onboarding-dot" data-step="2"></span>
          <span class="onboarding-dot" data-step="3"></span>
        </div>
        <div class="onboarding-actions">
          <button id="onboardingBack" class="btn-secondary" type="button">
            Back
          </button>
          <button id="onboardingNext" class="btn-primary" type="button">
            Next
          </button>
        </div>
      </div>
    </div>

    <script src="app.js?v=1.14.3"></script>
  </body>
</html>
